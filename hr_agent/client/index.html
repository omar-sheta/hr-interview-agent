<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hive Internship Interview Workspace</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="css/styles.css" />
  </head>
  <body>
    <header class="workspace-header">
      <div class="header-content" style="display:flex;align-items:center;justify-content:space-between;gap:1.5rem;flex-wrap:wrap;">
        <div class="logo-group" style="display:flex;align-items:center;gap:1rem;">
          <img src="images/HIVE-logo-4-color.png" alt="HIVE" height="64" onerror="this.style.display='none'" />
        </div>
        <div>
          <h1>Hive Internship Interview Workspace</h1>
          <p>Voice-enabled capture space connected to the central AI interviewer</p>
        </div>
        <div class="session-meta" style="text-align:right;min-width:200px;">
          <div id="candidate-label">Candidate: —</div>
          <div id="interview-label">Interview: —</div>
        </div>
      </div>
    </header>

    <main class="workspace-main">
      <section class="panel" id="session-panel">
        <h2>Session Overview</h2>
        <p id="session-description" style="margin-bottom:1rem;color:rgba(15,23,42,0.75);">
          Waiting for interview configuration...
        </p>
        <div class="status-banner info" id="status-banner">
          <span id="status-message">Preparing audio services…</span>
        </div>
      </section>

      <section class="panel" id="question-panel">
        <div class="progress-indicator">
          <span id="question-count">Question 0 / 0</span>
          <span id="recording-indicator">Recorder idle</span>
        </div>

        <h2 id="question-text">Your questions will appear here after the session loads.</h2>

        <div class="controls-grid">
          <button id="play-question-btn" class="secondary" disabled>Play Question</button>
          <button id="start-recording-btn" class="primary" disabled>Start Recording</button>
          <button id="stop-recording-btn" class="secondary" disabled>Stop Recording</button>
          <button id="redo-question-btn" class="secondary" disabled>Redo</button>
          <button id="skip-question-btn" class="danger" disabled>Skip Question</button>
        </div>

        <div class="upload-field">
          <strong>Prefer uploading audio?</strong>
          <p>Upload a recording for this question. WAV, MP3, and WebM files are supported.</p>
          <input type="file" id="audio-upload" accept="audio/*" disabled />
        </div>

        <div class="transcription-box" id="transcription-box">
          <p id="transcription-text">Transcription will appear here once your answer is processed.</p>
        </div>

        <div class="controls-grid">
          <button id="next-question-btn" class="primary" disabled>Submit &amp; Next Question</button>
        </div>

        <div class="mic-meter">
          <span id="mic-level"></span>
        </div>
      </section>

      <section class="panel hidden" id="completion-panel">
        <div class="completion-card">
          <h2>Interview Submitted</h2>
          <p>
            Thank you for completing your interview. A notification has been sent to the recruiting team.
            You may close this tab and return to the main dashboard.
          </p>
        </div>
      </section>
    </main>

    <script type="module" src="js/workspace.js"></script>
  </body>
</html>
